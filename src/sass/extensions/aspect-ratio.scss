@use "../configuration" as conf;
@use "../getters" as get;
@use "../mixins" as mix;
@use "../utils";

@mixin aspect-ratio($variants...) {
	@each $variant in $variants {
		@if utils.matches($variant, core) {
			[style*="--aspect-ratio"] {
				position: relative;

				// NOTE: Use `(var(...))` so `--aspect-ratio: 16 / 9` works.
				padding-bottom: calc(100% / (var(--aspect-ratio)));
			}
			[style*="--aspect-ratio"] > * {
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}
		}
	}
}
