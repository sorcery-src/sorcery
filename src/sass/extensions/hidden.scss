@use "../configuration" as conf;
@use "../getters" as get;
@use "../mixins" as mix;
@use "../utils";

$-opts: (
	hstack: flex,
	vstack: flex,
	zstack: grid,
	grid: grid,
);

@mixin hidden($variants...) {
	@each $variant in $variants {
		@if utils.matches($variant, core) {
			@each $k, $v in $-opts {
				.#{$k} > * {
					--dm-display: block; // Reset
				}
			}
			@each $k, $v in $-opts {
				.#{$k} {
					--dm-display: #{$v};
				}
			}
		}

		.hidden {
			@include mix.variants($variant) {
				display: none;
			}
		}
		.unhidden {
			@include mix.variants($variant) {
				display: var(--dm-display);
			}
		}
	}
}
