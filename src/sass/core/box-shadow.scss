@use "sass:list";

@use "../helpers" as *;

@function -vendored-shadow-keys($map) {
	$ret: ();
	@each $mk, $mv in $map {
		$ret: list.append($ret, var(--dm-shadow-#{$mk}), comma);
	}
	@return $ret;
}

@mixin box-shadow($variants...) {
	@include variants($variants...) using ($v) {
		// @if not configuration.$skeleton {
		#{variant(shadow, $v)} {
			@each $mk, $mv in shadows() {
				--dm-shadow-#{$mk}: 0 0 transparent;
			}
			box-shadow: -vendored-shadow-keys(shadows());
		}

		@each $mk, $mv in shadows() {
			#{variant(shadow-#{$mk}, $v)} {
				--dm-shadow-#{$mk}: #{shadow($mk)};
			}
		}
		// }
	}
}
