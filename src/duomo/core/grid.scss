@use "../helpers" as *;

@mixin grid($variants...) {
	@include variants($variants...) using ($v) {
		// TODO
		#{variant(grid, $v)} {
			--unhidden: grid;
			display: grid;
		}

		@for $rv from 0 through 12 {
			#{variant(grid-cols-#{$rv}, $v)} {
				grid-template-columns: repeat($rv, minmax(0, 1fr));
			}
		}
		@for $rv from 0 through 12 {
			#{variant(grid-rows-#{$rv}, $v)} {
				grid-template-rows: repeat($rv, minmax(0, 1fr));
			}
		}

		// prettier-ignore
		@include generate-from-range((
			variant: $v,
			shorthand: gap,
			property: (gap),
			range: range(),
			resolver: rem,
		));
		// prettier-ignore
		@include generate-from-range((
			variant: $v,
			shorthand: gap-x,
			property: (column-gap),
			range: range(),
			resolver: rem,
		));
		// prettier-ignore
		@include generate-from-range((
			variant: $v,
			shorthand: gap-y,
			property: (row-gap),
			range: range(),
			resolver: rem,
		));
	}
}
